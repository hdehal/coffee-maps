{"version":3,"sources":["images/bean.svg","components/twemoji.js","components/tableCount.js","components/header.js","images/github_mark.png","components/map.js","components/table.js","App.js","index.js"],"names":["Twemoji","emoji","dangerouslySetInnerHTML","__html","twemoji","parse","folder","ext","memo","TableCount","Typography","className","this","props","rowCountProp","Component","Header","id","AppBar","position","Toolbar","variant","href","target","rel","Button","size","IconButton","src","alt","myIcon","L","Icon","iconUrl","require","iconSize","Point","CoffeeMap","state","dataMaps","screensizeZoom","window","innerWidth","MapContainer","style","height","width","zoom","maxZoom","center","attributionControl","TileLayer","url","attribution","AttributionControl","prefix","spiderfyDistanceMultiplier","showCoverageOnHover","maxClusterRadius","dataMapsProp","filter","x","Coordinates","map","dataItem","k","City","mapCoords","Roaster","URL","Marker","onClick","open","icon","Tooltip","direction","offset","opacity","CoffeeTable","data","order","newTab","bind","e","preventDefault","column","sortedList","newOrder","sortValue","v1","v2","toLowerCase","localeCompare","sort","a","b","setState","TableContainer","component","Paper","Table","stickyHeader","aria-label","TableHead","TableRow","dataHeaderProp","val","TableCell","label","TableSortLabel","TableBody","row","index","hover","scope","align","ReactGA","initialize","pageview","location","pathname","search","doc","GoogleSpreadsheet","provider","BingProvider","params","key","process","App","isLoading","dataHeader","rowCount","self","useServiceAccountAuth","client_email","private_key","loadInfo","sheet","sheetsByIndex","getRows","rows","length","forEach","JSON","needsUpdates","city","query","providerResult","latlon","y","stringify","save","console","log","Grid","container","spacing","item","xs","sm","CircularProgress","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4JAAA,OAAe,cAA0B,kC,iXCMnCA,EAAU,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACZ,sBACIC,wBAAyB,CACrBC,OAAQC,IAAQC,MAAMJ,EAAO,CACzBK,OAAQ,MACRC,IAAK,aAMNC,iBAAKR,G,6CCJLS,E,4JATX,WACI,OACI,eAACC,EAAA,EAAD,CAAYC,UAAU,aAAtB,oBACYC,KAAKC,MAAMC,oB,GAJVC,aC2CVC,E,4JAlCX,WAAU,IAEEF,EAAiBF,KAAKC,MAAtBC,aAER,OACI,qBAAKG,GAAG,SAAR,SACI,cAACC,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACI,eAACC,EAAA,EAAD,WACI,eAACV,EAAA,EAAD,CAAYW,QAAQ,KAAKJ,GAAG,OAA5B,UACI,cAAC,EAAD,CAAShB,MAAM,WADnB,+BAGA,cAAC,EAAD,CAAYa,aAAcA,IAC1B,mBAAGQ,KAAK,uGAAuGC,OAAO,SAASC,IAAI,sBAAnI,SACI,eAACC,EAAA,EAAD,CACIJ,QAAQ,YACRK,KAAK,QAFT,gBAGO,sBAAMT,GAAG,sBAAT,8BAGX,mBAAGK,KAAK,wCAAwCC,OAAO,SAASC,IAAI,sBAApE,SACI,cAACG,EAAA,EAAD,CACIhB,UAAU,SACVU,QAAQ,WACRK,KAAK,QAHT,SAII,qBAAKf,UAAU,SAASiB,ICpCzC,yyKDoC2DC,IAAI,oC,GA1BzDd,a,yFEFfe,G,OAAS,IAAIC,IAAEC,KAAK,CAEtBC,QAASC,EAAQ,KACjBC,SAAU,IAAIJ,IAAEK,MAAM,GAAI,IAC1BzB,UAAW,uBAoEA0B,E,kDA9DX,WAAYxB,GAAQ,IAAD,8BACf,cAAMA,IAEDyB,MAAQ,CACTC,SAAU,IAJC,E,0CAQnB,WAGI,IACMC,EADWC,OAAOC,WAAa,IACH,KAAO,IAEzC,OACI,8BACI,eAACC,EAAA,EAAD,CACIC,MAAO,CAAEC,OAAQ,OAAQC,MAAO,QAChCC,KAAMP,EACNQ,QAAS,GACTC,OAAQ,CAAC,OAAQ,OACjBC,oBAAoB,EALxB,UAMI,cAACC,EAAA,EAAD,CAAWC,IAAI,iEACXC,YAAY,oKAGhB,cAACC,EAAA,EAAD,CACInC,SAAS,aACToC,QAAQ,IAGZ,cAAC,IAAD,CACIC,2BAA4B,EAC5BC,qBAAqB,EACrBC,iBAAkB,GAHtB,SAKK9C,KAAKC,MAAM8C,aAAaC,QAAO,SAAAC,GAAO,OAAOA,EAAEC,eAAgBC,KAAI,SAACC,EAAUC,GAAO,IAC5EC,EAAkCF,EAAlCE,KAAMC,EAA4BH,EAA5BG,UAAWC,EAAiBJ,EAAjBI,QAASC,EAAQL,EAARK,IAChC,OACI,cAACC,EAAA,EAAD,CACIC,QAAS,WAAQ9B,OAAO+B,KAAKH,IAC7BI,KAAM3C,EAENmB,OAAQ,CAACkB,EAAU,GAAIA,EAAU,IACjChD,SAAU,CAACgD,EAAU,GAAIA,EAAU,IALvC,SAOI,eAACO,EAAA,EAAD,CACIC,UAAU,OACVC,OAAQ,EAAE,GAAI,GACdC,QAAS,EAHb,UAII,+BAAM,mBAAGvD,KAAM+C,EAAT,SAAeD,MACrB,iCAAOF,EAAP,cATCD,iB,GA7CjBlD,a,yFCqET+D,E,kDAxEb,WAAYjE,GAAQ,IAAD,8BACjB,cAAMA,IAWRyB,MAAQ,CACNyC,KAAK,YAAK,EAAKlE,MAAM8C,cACrBqB,MAAO,QAZP,EAAKC,OAAS,EAAKA,OAAOC,KAAZ,gBAFG,E,0CAMnB,SAAOC,EAAG/B,GACR+B,EAAEC,iBACF3C,OAAO+B,KAAKpB,K,kBAUd,SAAKiC,GACH,IAAMC,EAAU,YAAO1E,KAAKC,MAAM8C,cAC5B4B,EAAgC,QAArB3E,KAAK0B,MAAM0C,MAAkB,OAAS,MACjDQ,EAAY,SAACC,EAAIC,GAAQ,IAAD,IAC5B,MAAe,SAAXL,EAA0BI,EAAGxE,GAAKyE,EAAGzE,IAClC,UAACwE,EAAGJ,UAAJ,QAAe,IACnBM,cACAC,eAAc,UAACF,EAAGL,UAAJ,QAAe,IAAIM,gBAErB,SAAbJ,EACFD,EAAWO,MAAK,SAACC,EAAGC,GAAJ,OAAUP,EAAUM,EAAGC,MAEvCT,EAAWO,MAAK,SAACC,EAAGC,GAAJ,OAAUP,EAAUO,EAAGD,MAEzClF,KAAKoF,SAAS,CAAEjB,KAAMO,EAAYN,MAAOO,EAAUF,OAAQA,M,oBAG7D,WAAU,IAAD,OAEP,OACE,cAACY,EAAA,EAAD,CAAgBC,UAAWC,IAA3B,SACE,eAACC,EAAA,EAAD,CAAO1E,KAAK,QAAQ2E,cAAY,EAACC,aAAW,eAA5C,UACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACG5F,KAAKC,MAAM4F,gBAAkB7F,KAAKC,MAAM4F,eAAe1C,KAAI,SAAC2C,GAAD,OAC1D,cAACC,EAAA,EAAD,CAAWpC,QAAS,kBAAM,EAAKsB,KAAKa,EAAIE,QAAxC,SACE,cAACC,EAAA,EAAD,CAGElC,UAAgC,SAArB,EAAKrC,MAAM0C,MAAmB,MAAQ,OAHnD,SAIG0B,EAAIE,iBAMf,cAACE,EAAA,EAAD,UACGlG,KAAK0B,MAAMyC,KAAKhB,KAAI,SAACgD,EAAKC,GAAN,OACnB,eAACR,EAAA,EAAD,CAAUjC,QAAS,SAAAY,GAAC,OAAI,EAAKF,OAAOE,EAAG4B,EAAI1C,IAAK,WAA6B4C,OAAK,EAAlF,UACE,cAACN,EAAA,EAAD,CAAWT,UAAU,KAAKgB,MAAM,MAAhC,SACE,mBAAG5F,KAAMyF,EAAI1C,IAAK9C,OAAO,SAASC,IAAI,sBAAtC,SACGuF,EAAI3C,YAGT,eAACuC,EAAA,EAAD,CAAWQ,MAAM,QAAjB,UAA0BJ,EAAI7C,KAA9B,YAN8D6C,EAAI3C,uB,GA1DxDrD,a,2BCKxBqG,IAAQC,WAAW,kBACnBD,IAAQE,SAAS7E,OAAO8E,SAASC,SAAW/E,OAAO8E,SAASE,Q,IAQxDC,EAAM,IAAIC,EAHczF,EAAQ,KAA9ByF,mBAG0B,gDAM5BC,EAAW,IAAIC,IAAa,CAChCC,OAAQ,CACNC,IAAKC,sEAiGMC,E,kDA1Fb,WAAYpH,GAAQ,IAAD,8BACjB,cAAMA,IAEDyB,MAAQ,CACX4F,WAAW,EACX3F,SAAU,GACV4F,WAAY,CAAC,CAAEvB,MAAO,WAAa,CAAEA,MAAO,SAC5CwB,SAAU,IAPK,E,qDAWnB,WAIE,IAAIC,EAAOzH,MAEX,uCAAC,wCAAAkF,EAAA,sEAEO4B,EAAIY,sBAAsB,CAC9BC,aAAcP,kDACdQ,YAAaR,6sDAJhB,uBAOON,EAAIe,WAPX,cASOC,EAAQhB,EAAIiB,cAAc,GATjC,SAUoBD,EAAME,UAV1B,UAUOC,EAVP,OAaCR,EAAKrC,SAAS,CAAEoC,SAAUS,EAAKC,SAE/BD,EAAKE,SAAQ,SAAClF,GAAYA,EAAEC,cAAeD,EAAEM,UAAY6E,KAAK3I,MAAMwD,EAAEC,iBAEtEuE,EAAKrC,SAAS,CAAEzD,SAAUsG,OAEtBI,EAAeJ,EAAKjF,QAAO,SAACC,GAAQ,OAAQA,EAAEC,iBAE9BmF,EAAaH,OAAS,GArB3C,wBAAAhD,EAAA,KAsBqBmD,GAtBrB,sDAsBYjC,EAtBZ,WAuBSkC,EAAOD,EAAajC,GAAO9C,KAvBpC,oBA0BkC0D,EAASH,OAAO,CAAE0B,MAAOD,EAAO,wBA1BlE,eA0BWE,EA1BX,OA2BWC,EAAS,CAACD,EAAe,GAAGE,EAAGF,EAAe,GAAGvF,GACrDoF,EAAajC,GAAOlD,YAAckF,KAAKO,UAAUF,GACjDJ,EAAajC,GAAO7C,UAAYkF,EA7BvC,UA8BaJ,EAAajC,GAAOwC,OA9BjC,2DAiCOC,QAAQC,IAAR,MAjCP,gCAqCGrB,EAAKrC,SAAS,CAAEzD,SAAUsG,IArC7B,QAyCCR,EAAKrC,SAAS,CAAEkC,WAAW,IAzC5B,2DAAD,yD,oBA8CF,WACE,OACE,sBAAKvH,UAAU,MAAf,UACE,cAAC,EAAD,CAAQG,aAAcF,KAAK0B,MAAM8F,WACjC,eAACuB,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACE,cAAC7D,EAAA,EAAD,CAAOlF,GAAG,YAAYN,UAAU,SAAhC,SACGC,KAAK0B,MAAM4F,UACR,qBAAKvH,UAAU,cAAf,SAA6B,qBAAKA,UAAU,UAAf,0BAC7B,cAAC,EAAD,CAAWgD,aAAc/C,KAAK0B,MAAMC,eAI5C,cAACoH,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACE,cAAC7D,EAAA,EAAD,CAAOlF,GAAG,cAAV,SACGL,KAAK0B,MAAM4F,UACR,qBAAKvH,UAAU,cAAf,SAA6B,qBAAKA,UAAU,UAAf,SAAyB,cAACsJ,EAAA,EAAD,QACtD,cAAC,EAAD,CAAatG,aAAc/C,KAAK0B,MAAMC,SAAUkE,eAAgB7F,KAAK0B,MAAM6F,2B,GAnF3EpH,aChClBmJ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.67fc43da.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bean.f4ec17ff.svg\";","import React, { memo } from 'react'\nimport twemoji from 'twemoji'\n\n// Using the official https://github.com/twitter/twemoji from Twitter\n// With an excellent example from https://gist.github.com/chibicode/fe195d792270910226c928b69a468206\n\nconst Twemoji = ({ emoji }) => (\n    <span\n        dangerouslySetInnerHTML={{\n            __html: twemoji.parse(emoji, {\n                folder: 'svg',\n                ext: '.svg'\n            })\n        }}\n    />\n)\n\nexport default memo(Twemoji)","import React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nclass TableCount extends Component {\n    render() {\n        return (\n            <Typography className=\"TableCount\">\n                TOTAL: {this.props.rowCountProp}\n            </Typography>\n        );\n    }\n}\n\nexport default TableCount;","import React, { Component } from 'react';\nimport Twemoji from './twemoji';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport TableCount from './tableCount';\nimport github_mark from '../images/github_mark.png';\n\nclass Header extends Component {\n\n    render() {\n\n        const { rowCountProp } = this.props;\n\n        return (\n            <div id=\"header\">\n                <AppBar position=\"static\">\n                    <Toolbar>\n                        <Typography variant=\"h6\" id=\"logo\">\n                            <Twemoji emoji=\"â˜•\" /> Bay Area Coffee Roasters\n                        </Typography>\n                        <TableCount rowCountProp={rowCountProp} />\n                        <a href=\"https://docs.google.com/spreadsheets/d/1u7jiqY1qM0jYWugn1dFiW3plQrvWysJqm8xXhO35zuU/edit?usp=sharing\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            <Button\n                                variant=\"contained\"\n                                size=\"small\">\n                                Add<span id=\"RoasterButtonMobile\">&nbsp;Roaster</span>\n                            </Button>\n                        </a>\n                        <a href=\"https://github.com/hdehal/coffee-maps\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            <IconButton\n                                className=\"GitHub\"\n                                variant=\"outlined\"\n                                size=\"small\">\n                                <img className=\"GitHub\" src={github_mark} alt=\"Hosted on GitHub\" />\n                            </IconButton>\n                        </a>\n                    </Toolbar>\n                </AppBar>\n            </div>\n        );\n    }\n}\n\nexport default Header;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwQTM4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwQTI4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTMyOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJBNDE0QUJDOTlBMTExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8kSqyAAADD5JREFUeNrsXQ2Q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\"","import React, { Component } from 'react';\nimport { MapContainer, Marker, TileLayer, Tooltip, AttributionControl } from \"react-leaflet\";\nimport L from 'leaflet';\nimport \"leaflet/dist/leaflet.css\";\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\nimport \"react-leaflet-markercluster/dist/styles.min.css\";\n\n// Leaflet custom marker\nconst myIcon = new L.Icon({\n    // Coffee bean attribution -- Thanks! https://commons.wikimedia.org/wiki/File:Coffee_bean_symbol.svg\n    iconUrl: require('../images/bean.svg'),\n    iconSize: new L.Point(25, 25),\n    className: 'leaflet-bean-icon'\n});\n\nclass CoffeeMap extends Component {\n\n    // Initial state\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            dataMaps: []\n        }\n    }\n\n    render() {\n\n        // Render map default zoom based on mobile breakpoint\n        const isMobile = window.innerWidth < 480;\n        const screensizeZoom = isMobile ? 7.25 : 8.5;\n\n        return (\n            <div>\n                <MapContainer\n                    style={{ height: \"89vh\", width: \"100%\" }}\n                    zoom={screensizeZoom}\n                    maxZoom={20}\n                    center={[37.69, -122.5]}\n                    attributionControl={false}>\n                    <TileLayer url=\"https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png\"\n                        attribution=\"&copy; <a href='https://stadiamaps.com/' target='_blank'>Stadia Maps</a> | &copy; <a href='http://openstreetmap.org' target='_blank'>OpenStreetMap</a> contributors\"\n                    />\n\n                    <AttributionControl\n                        position=\"bottomleft\"\n                        prefix={false}\n                    />\n\n                    <MarkerClusterGroup\n                        spiderfyDistanceMultiplier={1}\n                        showCoverageOnHover={false}\n                        maxClusterRadius={35}\n                    >\n                        {this.props.dataMapsProp.filter(x => { return x.Coordinates; }).map((dataItem, k) => {\n                            let { City, mapCoords, Roaster, URL } = dataItem;\n                            return (\n                                <Marker\n                                    onClick={() => { window.open(URL) }}\n                                    icon={myIcon}\n                                    key={k}\n                                    center={[mapCoords[0], mapCoords[1]]}\n                                    position={[mapCoords[0], mapCoords[1]]}\n                                >\n                                    <Tooltip\n                                        direction=\"auto\"\n                                        offset={[-10, 0]}\n                                        opacity={1}>\n                                        <span><a href={URL}>{Roaster}</a></span>\n                                        <span>{City}, CA</span>\n                                    </Tooltip>\n                                </Marker>);\n                        })}\n                    </MarkerClusterGroup>\n                </MapContainer>\n            </div>\n        );\n    }\n}\n\nexport default CoffeeMap;","import React, { Component } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Paper from '@material-ui/core/Paper';\n\nclass CoffeeTable extends Component {\n\n  constructor(props) {\n    super(props);\n    this.newTab = this.newTab.bind(this);\n  }\n\n  // Prevent onClick event bubbling in nested components from opening multiple new tabs\n  newTab(e, url) {\n    e.preventDefault();\n    window.open(url);\n  }\n\n  // Move props to state so table can sort on state\n  state = {\n    data: [...this.props.dataMapsProp],\n    order: \"desc\"\n  }\n\n  // Table sorting\n  sort(column) {\n    const sortedList = [...this.props.dataMapsProp];\n    const newOrder = this.state.order === \"asc\" ? \"desc\" : \"asc\";\n    const sortValue = (v1, v2) => {\n      if (column === \"city\") return v1.id - v2.id;\n      return (v1[column] ?? \"\")\n        .toLowerCase()\n        .localeCompare((v2[column] ?? \"\").toLowerCase());\n    };\n    if (newOrder === \"desc\") {\n      sortedList.sort((a, b) => sortValue(a, b));\n    } else {\n      sortedList.sort((a, b) => sortValue(b, a));\n    }\n    this.setState({ data: sortedList, order: newOrder, column: column });\n  }\n\n  render() {\n\n    return (\n      <TableContainer component={Paper}>\n        <Table size=\"small\" stickyHeader aria-label=\"Coffee Table\">\n          <TableHead>\n            <TableRow>\n              {this.props.dataHeaderProp && this.props.dataHeaderProp.map((val) => (\n                <TableCell onClick={() => this.sort(val.label)}>\n                  <TableSortLabel\n                    // Who says UX isn't fun?\n                    // https://ux.stackexchange.com/questions/37564/use-up-or-down-arrow-to-represent-sort-ascending-at-table-header\n                    direction={this.state.order === \"desc\" ? \"asc\" : \"desc\"}>\n                    {val.label}\n                  </TableSortLabel>\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {this.state.data.map((row, index) => (\n              <TableRow onClick={e => this.newTab(e, row.URL, \"_blank\")} key={row.Roaster} hover>\n                <TableCell component=\"th\" scope=\"row\">\n                  <a href={row.URL} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {row.Roaster}\n                  </a>\n                </TableCell>\n                <TableCell align=\"right\">{row.City}, CA</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    );\n  }\n}\n\nexport default CoffeeTable;","import React, { Component } from 'react';\nimport './App.css';\nimport { BingProvider } from 'leaflet-geosearch';\nimport Header from './components/header';\nimport CoffeeMap from './components/map.js';\nimport CoffeeTable from './components/table';\nimport ReactGA from 'react-ga';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Material-UI\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\n// Google Analytics\nfunction initializeReactGA() {\n  ReactGA.initialize('UA-159568942-2');\n  ReactGA.pageview(window.location.pathname + window.location.search);\n}\n\ninitializeReactGA()\n\nconst { GoogleSpreadsheet } = require('google-spreadsheet');\n\n// Google Sheets Document ID -- PROD\nconst doc = new GoogleSpreadsheet('1u7jiqY1qM0jYWugn1dFiW3plQrvWysJqm8xXhO35zuU');\n\n// Google Sheets Document ID -- DEV\n// const doc = new GoogleSpreadsheet('1jQI6PstbEArW_3xDnGgPJR6_37r_KjLoa765bOgMBhk');\n\n// Provider for leaflet-geosearch plugin\nconst provider = new BingProvider({\n  params: {\n    key: process.env.REACT_APP_BING_MAPS_API_KEY\n  },\n});\n\nclass App extends Component {\n\n  // Initial state\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      dataMaps: [],\n      dataHeader: [{ label: \"Roaster\" }, { label: \"City\" }],\n      rowCount: ''\n    }\n  }\n\n  componentDidMount() {\n    // Google Sheets API\n    // Based on https://github.com/theoephraim/node-google-spreadsheet\n\n    var self = this;\n\n    (async function main() {\n      // Use service account creds\n      await doc.useServiceAccountAuth({\n        client_email: process.env.REACT_APP_GOOGLE_SERVICE_ACCOUNT_EMAIL,\n        private_key: process.env.REACT_APP_GOOGLE_PRIVATE_KEY,\n      });\n\n      await doc.loadInfo(); // Loads document properties and worksheets\n\n      const sheet = doc.sheetsByIndex[0];\n      const rows = await sheet.getRows();\n\n      // Total row count\n      self.setState({ rowCount: rows.length });\n\n      rows.forEach((x) => { if (x.Coordinates) { x.mapCoords = JSON.parse(x.Coordinates); } });\n\n      self.setState({ dataMaps: rows });\n\n      var needsUpdates = rows.filter((x) => { return !x.Coordinates; });\n\n      if (needsUpdates && needsUpdates.length > 0) {\n        for (let index in needsUpdates) {\n          let city = needsUpdates[index].City;\n\n          try {\n            let providerResult = await provider.search({ query: city + ', CA, United States' });\n            let latlon = [providerResult[0].y, providerResult[0].x];\n            needsUpdates[index].Coordinates = JSON.stringify(latlon); // Convert obj to string\n            needsUpdates[index].mapCoords = latlon;\n            await needsUpdates[index].save(); // Save to remote Google Sheet\n          }\n          catch (e) {\n            console.log(e);\n          }\n        }\n\n        self.setState({ dataMaps: rows });\n      }\n\n      // Loading message \n      self.setState({ isLoading: false })\n\n    })();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Header rowCountProp={this.state.rowCount} />\n        <Grid container spacing={2}>\n          <Grid item xs={12} sm={8}>\n            <Paper id=\"CoffeeMap\" className=\"fadeIn\">\n              {this.state.isLoading\n                ? <div className=\"flexLoading\"><div className=\"loading\">Brewing...</div></div>\n                : <CoffeeMap dataMapsProp={this.state.dataMaps} />\n              }\n            </Paper>\n          </Grid>\n          <Grid item xs={12} sm={4}>\n            <Paper id=\"CoffeeTable\">\n              {this.state.isLoading\n                ? <div className=\"flexLoading\"><div className=\"loading\"><CircularProgress /></div></div>\n                : <CoffeeTable dataMapsProp={this.state.dataMaps} dataHeaderProp={this.state.dataHeader} />\n              }\n            </Paper>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}